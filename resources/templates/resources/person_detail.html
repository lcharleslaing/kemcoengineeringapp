{% extends "resources/base.html" %}

{% block page_title %}Person: {{ person.full_name }}{% endblock %}

{% block action_buttons %}
<a href="{% url 'resources:person_update' person.pk %}" class="btn btn-primary">Edit</a>
<a href="{% url 'resources:person_list' %}" class="btn btn-ghost">Back to List</a>
{% endblock %}

{% block resources_content %}
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
  <div class="card bg-base-100 shadow-xl">
    <div class="card-body">
      <h2 class="card-title">Personal Information</h2>
      <div class="space-y-4">
        <div>
          <label class="label">
            <span class="label-text font-semibold">Full Name</span>
          </label>
          <p>{{ person.full_name }}</p>
        </div>
        <div>
          <label class="label">
            <span class="label-text font-semibold">Email</span>
          </label>
          <p>{{ person.email|default:"—" }}</p>
        </div>
        <div>
          <label class="label">
            <span class="label-text font-semibold">Phone</span>
          </label>
          <p>{{ person.phone|default:"—" }}</p>
        </div>
        <div>
          <label class="label">
            <span class="label-text font-semibold">Status</span>
          </label>
          {% if person.is_active %}
          <span class="badge badge-success">Active</span>
          {% else %}
          <span class="badge badge-error">Inactive</span>
          {% endif %}
        </div>
      </div>
    </div>
  </div>

  <div class="card bg-base-100 shadow-xl">
    <div class="card-body">
      <h2 class="card-title">Organization</h2>
      <div class="space-y-4">
        <div>
          <label class="label">
            <span class="label-text font-semibold">Department</span>
          </label>
          {% if person.department %}
          <a href="{% url 'resources:department_detail' person.department.pk %}" class="link link-hover">
            {{ person.department.name }}
          </a>
          {% else %}
          <p>—</p>
          {% endif %}
        </div>
        <div>
          <label class="label">
            <span class="label-text font-semibold">Role</span>
          </label>
          {% if person.role %}
          <a href="{% url 'resources:role_detail' person.role.pk %}" class="link link-hover">
            {{ person.role.name }}
          </a>
          {% else %}
          <p>—</p>
          {% endif %}
        </div>
        <div>
          <label class="label">
            <span class="label-text font-semibold">User Account</span>
          </label>
          {% if person.user %}
          <a href="{% url 'admin:auth_user_change' person.user.pk %}" class="link link-hover">
            {{ person.user.username }}
          </a>
          {% else %}
          <p>—</p>
          {% endif %}
        </div>
      </div>
    </div>
  </div>

  {% if person.notes %}
  <div class="card bg-base-100 shadow-xl md:col-span-2">
    <div class="card-body">
      <h2 class="card-title">Notes</h2>
      <p class="whitespace-pre-wrap">{{ person.notes }}</p>
    </div>
  </div>
  {% endif %}
</div>
{% endblock %}

